[gd_scene load_steps=12 format=3 uid="uid://ftmeipklcuh3"]

[ext_resource type="Script" uid="uid://dmx4oy7lpxn8l" path="res://scripts/train_rl.gd" id="1_a5g2m"]
[ext_resource type="Theme" uid="uid://cxe1714v2p0a1" path="res://resources/theme.tres" id="2_dapfa"]
[ext_resource type="PackedScene" uid="uid://cyyhr5tmi4ljw" path="res://scenes/Connection.tscn" id="3_jmmfa"]
[ext_resource type="Material" uid="uid://c556teg3qs0aw" path="res://resources/graph.tres" id="4_4ef36"]
[ext_resource type="Theme" uid="uid://cx365ld2mgjne" path="res://resources/theme_base.tres" id="5_bmbl0"]
[ext_resource type="PackedScene" uid="uid://wd63efdi6bdn" path="res://scenes/BaseBComponent.tscn" id="6_nxhx6"]
[ext_resource type="Script" uid="uid://dx40hpbce8w60" path="res://scripts/button_config.gd" id="7_xe3c0"]
[ext_resource type="Material" uid="uid://bubmhjvmjccip" path="res://resources/button_mat.tres" id="8_k6xwg"]
[ext_resource type="Resource" uid="uid://dpcfcsr4yvw5j" path="res://resources/activ.tres" id="9_gtxj1"]
[ext_resource type="PackedScene" uid="uid://cy68aiofs1yc3" path="res://scenes/moving_analytics.tscn" id="10_yp8oy"]

[sub_resource type="Resource" id="Resource_b41bo"]
script = ExtResource("7_xe3c0")
hover_color = Color(1.1, 1.1, 1.1, 1)
hover_mult = 1.3
_hover_scale = 1.0
press_color = Color(0.9, 0.9, 0.9, 1)
_press_scale = 1.0
animation_speed = 1.951
animation_decay = 4.564
metadata/_custom_type_script = "uid://dx40hpbce8w60"

[node name="Base" type="Control"]
layout_mode = 3
anchors_preset = 0
offset_right = 200.0
offset_bottom = 50.0
script = ExtResource("1_a5g2m")
tab_size_adds = Dictionary[StringName, float]({
&"adam": 0.0,
&"sgd": 26.0
})
server_typename = &"TrainRL"
area_padding = 0.0
base_config = Dictionary[StringName, Variant]({
&"lr": 0,
&"momentum": 0.0,
&"optimizer": "adam"
})

[node name="labels" type="Control" parent="."]
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="Label" type="Label" parent="labels"]
self_modulate = Color(0.65, 0.65, 0.65, 1)
z_index = 1
layout_mode = 0
offset_left = -68.0
offset_top = -13.0
offset_right = 125.0
offset_bottom = 30.0
scale = Vector2(0.311419, 0.311419)
theme = ExtResource("2_dapfa")
text = "Optimizer"

[node name="Label3" type="Label" parent="labels"]
self_modulate = Color(0.65, 0.65, 0.65, 1)
z_index = 1
layout_mode = 0
offset_left = -68.0
offset_top = 4.000002
offset_right = 125.0
offset_bottom = 48.0
scale = Vector2(0.311, 0.311)
theme = ExtResource("2_dapfa")
text = "LearnRate "

[node name="Label4" type="Label" parent="labels"]
self_modulate = Color(0.65, 0.65, 0.65, 1)
z_index = 1
layout_mode = 0
offset_left = -68.0
offset_top = 22.337639
offset_right = 125.0
offset_bottom = 66.33764
scale = Vector2(0.311, 0.311)
theme = ExtResource("2_dapfa")
text = "GammaFutr"

[node name="Label5" type="Label" parent="labels"]
self_modulate = Color(0.65, 0.65, 0.65, 1)
z_index = 1
layout_mode = 0
offset_left = -68.0
offset_top = 40.0
offset_right = 125.0
offset_bottom = 84.0
scale = Vector2(0.311, 0.311)
theme = ExtResource("2_dapfa")
text = "Steps/Epi"

[node name="i" parent="." node_paths=PackedStringArray("parent_graph") instance=ExtResource("3_jmmfa")]
layout_mode = 0
offset_left = -87.0
offset_top = -2.0
offset_right = -69.0
offset_bottom = 18.0
color = Color(0.462745, 0.45098, 0.85098, 1)
_accepted_datatypes = "model_output"
server_name = &"pred_in"
connection_type = 0
area_paddings = Vector4(20, 20, 20, 20)
multiple_splines = true
origin_offset = Vector2(-4, 0)
dir_vector = Vector2(-1, 0)
parent_graph = NodePath("..")
conn_count_keyword = "train"
gradient_color = Color(0.462745, 0.45098, 0.85098, 1)

[node name="ColorRect" type="ColorRect" parent="."]
material = ExtResource("4_4ef36")
instance_shader_parameters/outline_color = Color(0.693883, 0.6885, 0.85, 1)
instance_shader_parameters/tuning = Color(0, 0, 0, 0.639216)
layout_mode = 0
offset_left = -78.0
offset_top = -45.0
offset_right = 173.0
offset_bottom = 64.0

[node name="root" type="Control" parent="ColorRect"]
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="Label" type="Label" parent="ColorRect/root"]
self_modulate = Color(1, 0.7, 0.915, 1)
z_index = 1
layout_mode = 0
offset_left = 9.0
offset_top = 6.0
offset_right = 202.0
offset_bottom = 49.0
scale = Vector2(0.463877, 0.463877)
theme = ExtResource("5_bmbl0")
text = "RLStep"

[node name="optimizer" parent="." node_paths=PackedStringArray("graph") instance=ExtResource("6_nxhx6")]
instance_shader_parameters/corner_radius_width_add = Vector2(-7, 0)
instance_shader_parameters/extents = Vector2(0, 0)
layout_mode = 0
offset_left = -9.0
offset_top = -13.0
offset_right = 58.0
offset_bottom = 7.0
scale = Vector2(0.733764, 0.733764)
mouse_filter = 1
color = Color(0.584314, 0.576471, 0.85098, 1)
button_type = 2
base_scale_x = 0.45
resize_after = 6
text = "SGD"
base_size = Vector2(67, 20)
expanded_size = 72
arrangement_padding = Vector2(5, 5)
mouse_open = false
menu_name = &"g"
max_size = 170
config = SubResource("Resource_b41bo")
graph = NodePath("..")

[node name="ColorRect2" parent="optimizer" instance=ExtResource("6_nxhx6")]
visible = false
material = ExtResource("8_k6xwg")
instance_shader_parameters/corner_radius_width_add = Vector2(-1, 0.3)
instance_shader_parameters/outline_color = Color(0.78, 0.78, 0.78, 1)
instance_shader_parameters/tuning = Color(0, 0, 0, 0.635294)
layout_mode = 0
offset_left = -1.0
offset_top = 4.0
offset_right = 98.0
offset_bottom = 40.0
scale = Vector2(0.601426, 0.601426)
pivot_offset = Vector2(49.5, 18)
button_type = 1
top = true
hint = &"sgd"
resize_after = 9
text = "SGD"
base_size = Vector2(99, 36)
alignment = Vector2(0.5, 0.5)
config = ExtResource("9_gtxj1")

[node name="ColorRect3" parent="optimizer" instance=ExtResource("6_nxhx6")]
visible = false
material = ExtResource("8_k6xwg")
instance_shader_parameters/corner_radius_width_add = Vector2(-1, 0.3)
instance_shader_parameters/outline_color = Color(0.78, 0.78, 0.78, 1)
instance_shader_parameters/tuning = Color(0, 0, 0, 0.635294)
layout_mode = 0
offset_left = -1.36284
offset_top = 4.08851
offset_right = 97.63716
offset_bottom = 40.08851
scale = Vector2(0.601426, 0.601426)
pivot_offset = Vector2(49.5, 18)
button_type = 1
top = true
hint = &"adam"
resize_after = 4
text = "Adam"
base_size = Vector2(99, 36)
alignment = Vector2(0.5, 0.5)
config = ExtResource("9_gtxj1")

[node name="lr" parent="." node_paths=PackedStringArray("graph") instance=ExtResource("6_nxhx6")]
instance_shader_parameters/corner_radius_width_add = Vector2(-7, 0)
instance_shader_parameters/extents = Vector2(0, 0)
layout_mode = 0
offset_left = -9.0
offset_top = 3.9999976
offset_right = 58.0
offset_bottom = 23.999998
scale = Vector2(0.733764, 0.733764)
mouse_filter = 1
color = Color(0.584314, 0.576471, 0.85098, 1)
button_type = 2
base_scale_x = 0.45
resize_after = 6
text = "1e-2"
base_size = Vector2(67, 20)
expanded_size = 98
arrangement_padding = Vector2(5, 5)
mouse_open = false
menu_name = &"g"
max_size = 170
config = SubResource("Resource_b41bo")
graph = NodePath("..")

[node name="ColorRect2" parent="lr" instance=ExtResource("6_nxhx6")]
visible = false
material = ExtResource("8_k6xwg")
instance_shader_parameters/corner_radius_width_add = Vector2(-1, 0.3)
instance_shader_parameters/outline_color = Color(0.78, 0.78, 0.78, 1)
instance_shader_parameters/tuning = Color(0, 0, 0, 0.635294)
layout_mode = 0
offset_left = -0.999998
offset_top = 4.0
offset_right = 98.0
offset_bottom = 40.0
scale = Vector2(0.601426, 0.601426)
pivot_offset = Vector2(49.5, 18)
button_type = 1
top = true
hint = &"0"
text = "1e-1"
base_size = Vector2(99, 36)
alignment = Vector2(0.5, 0.5)
config = ExtResource("9_gtxj1")

[node name="ColorRect3" parent="lr" instance=ExtResource("6_nxhx6")]
visible = false
material = ExtResource("8_k6xwg")
instance_shader_parameters/corner_radius_width_add = Vector2(-1, 0.3)
instance_shader_parameters/outline_color = Color(0.78, 0.78, 0.78, 1)
instance_shader_parameters/tuning = Color(0, 0, 0, 0.635294)
layout_mode = 0
offset_left = -14.0
offset_top = 4.0
offset_right = 106.0
offset_bottom = 40.0
scale = Vector2(0.601426, 0.601426)
pivot_offset = Vector2(60, 18)
button_type = 1
top = true
hint = &"1"
resize_after = 5
text = "1e-2"
base_size = Vector2(120, 36)
alignment = Vector2(0.5, 0.5)
config = ExtResource("9_gtxj1")

[node name="ColorRect4" parent="lr" instance=ExtResource("6_nxhx6")]
visible = false
material = ExtResource("8_k6xwg")
instance_shader_parameters/corner_radius_width_add = Vector2(-1, 0.3)
instance_shader_parameters/outline_color = Color(0.78, 0.78, 0.78, 1)
instance_shader_parameters/tuning = Color(0, 0, 0, 0.635294)
layout_mode = 0
offset_left = -14.0
offset_top = 4.0
offset_right = 106.0
offset_bottom = 40.0
scale = Vector2(0.601426, 0.601426)
pivot_offset = Vector2(60, 18)
button_type = 1
top = true
hint = &"2"
resize_after = 5
text = "1e-3"
base_size = Vector2(120, 36)
alignment = Vector2(0.5, 0.5)
config = ExtResource("9_gtxj1")

[node name="algo" parent="." node_paths=PackedStringArray("graph") instance=ExtResource("6_nxhx6")]
instance_shader_parameters/corner_radius_width_add = Vector2(-7, 0)
instance_shader_parameters/extents = Vector2(0, 0)
layout_mode = 0
offset_left = -9.0
offset_top = 21.0
offset_right = 59.141808
offset_bottom = 41.0
scale = Vector2(0.733764, 0.733764)
mouse_filter = 1
color = Color(0.584314, 0.576471, 0.85098, 1)
button_type = 2
base_scale_x = 0.45
resize_after = 7
text = "0.90"
base_size = Vector2(68.14181, 20)
expanded_size = 98
arrangement_padding = Vector2(5, 5)
mouse_open = false
menu_name = &"g"
max_size = 170
config = SubResource("Resource_b41bo")
graph = NodePath("..")

[node name="ColorRect2" parent="algo" instance=ExtResource("6_nxhx6")]
visible = false
material = ExtResource("8_k6xwg")
instance_shader_parameters/corner_radius_width_add = Vector2(-1, 0.3)
instance_shader_parameters/outline_color = Color(0.78, 0.78, 0.78, 1)
instance_shader_parameters/tuning = Color(0, 0, 0, 0.635294)
layout_mode = 0
offset_left = -1.0
offset_top = 4.0
offset_right = 98.0
offset_bottom = 40.0
scale = Vector2(0.601426, 0.601426)
pivot_offset = Vector2(49.5, 18)
button_type = 1
top = true
hint = &"0"
resize_after = 9
text = "0.90"
base_size = Vector2(99, 36)
alignment = Vector2(0.5, 0.5)
config = ExtResource("9_gtxj1")

[node name="ColorRect3" parent="algo" instance=ExtResource("6_nxhx6")]
visible = false
material = ExtResource("8_k6xwg")
instance_shader_parameters/corner_radius_width_add = Vector2(-1, 0.3)
instance_shader_parameters/outline_color = Color(0.78, 0.78, 0.78, 1)
instance_shader_parameters/tuning = Color(0, 0, 0, 0.635294)
layout_mode = 0
offset_left = -1.36284
offset_top = 4.08851
offset_right = 97.63716
offset_bottom = 40.08851
scale = Vector2(0.601426, 0.601426)
pivot_offset = Vector2(49.5, 18)
button_type = 1
top = true
hint = &"1"
resize_after = 4
text = "0.95"
base_size = Vector2(99, 36)
alignment = Vector2(0.5, 0.5)
config = ExtResource("9_gtxj1")

[node name="ColorRect4" parent="algo" instance=ExtResource("6_nxhx6")]
visible = false
material = ExtResource("8_k6xwg")
instance_shader_parameters/corner_radius_width_add = Vector2(-1, 0.3)
instance_shader_parameters/outline_color = Color(0.78, 0.78, 0.78, 1)
instance_shader_parameters/tuning = Color(0, 0, 0, 0.635294)
layout_mode = 0
offset_left = -1.36284
offset_top = 4.08851
offset_right = 97.63716
offset_bottom = 40.08851
scale = Vector2(0.601426, 0.601426)
pivot_offset = Vector2(49.5, 18)
button_type = 1
top = true
hint = &"2"
resize_after = 4
text = "0.99"
base_size = Vector2(99, 36)
alignment = Vector2(0.5, 0.5)
config = ExtResource("9_gtxj1")

[node name="ColorRect2" parent="." instance=ExtResource("10_yp8oy")]
layout_mode = 0
offset_left = 49.0
offset_top = -15.0
offset_right = 162.0
offset_bottom = 54.0
tweener = true
origin_y = 63.0
y_mult = 47.0
smoothed = true
window_size = 11
snapshot_every = 0.3

[node name="acc" type="Label" parent="ColorRect2"]
layout_mode = 0
offset_left = 26.999989
offset_top = 3.0
offset_right = 432.67706
offset_bottom = 46.0
scale = Vector2(0.200223, 0.200223)
theme = ExtResource("2_dapfa")
text = "100.0%"
horizontal_alignment = 2

[node name="time_passed" type="Label" parent="ColorRect2"]
layout_mode = 0
offset_left = 4.0
offset_top = 3.0
offset_right = 94.0
offset_bottom = 46.0
scale = Vector2(0.2, 0.2)
theme = ExtResource("2_dapfa")
text = "0.0s"

[node name="sgd_tab" type="Control" parent="."]
anchors_preset = 0
offset_top = -16.0
offset_right = 40.0
offset_bottom = 24.0

[node name="Label4" type="Label" parent="sgd_tab"]
self_modulate = Color(0.65, 0.65, 0.65, 1)
z_index = 1
layout_mode = 0
offset_left = -68.0
offset_top = 86.0
offset_right = 125.0
offset_bottom = 130.0
scale = Vector2(0.311, 0.311)
theme = ExtResource("2_dapfa")
text = "Momentum"

[node name="HSlider" type="HSlider" parent="sgd_tab/Label4"]
layout_mode = 0
offset_left = 163.987
offset_top = 9.64627
offset_right = 232.987
offset_bottom = 25.6463
scale = Vector2(2, 2)
focus_mode = 1
mouse_force_pass_scroll_events = false
step = 10.0

[node name="name" type="Label" parent="sgd_tab"]
z_index = 1
layout_mode = 0
offset_left = -67.99999
offset_top = 71.0
offset_right = 125.00001
offset_bottom = 115.0
scale = Vector2(0.355093, 0.355093)
theme = ExtResource("2_dapfa")
text = "SGD"

[node name="n" type="Label" parent="sgd_tab"]
self_modulate = Color(0.65, 0.65, 0.65, 1)
z_index = 1
layout_mode = 0
offset_left = 27.0
offset_top = 88.0
offset_right = 220.0
offset_bottom = 132.0
scale = Vector2(0.24072652, 0.24072652)
theme = ExtResource("2_dapfa")
text = "0.0"

[node name="adam_tab" type="Control" parent="."]
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[connection signal="child_button_release" from="optimizer" to="." method="_on_optimizer_child_button_release"]
[connection signal="child_button_release" from="lr" to="." method="_on_lr_child_button_release"]
[connection signal="child_button_release" from="lr" to="." method="_on_loss_child_button_release"]
[connection signal="value_changed" from="sgd_tab/Label4/HSlider" to="." method="_on_h_slider_value_changed"]
